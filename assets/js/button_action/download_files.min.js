function cerrado1(){$(".contenedor-download").mCustomScrollbar("update")}!function(e){"use strict";function o(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))}e("#myModal2").on("hidden.bs.modal",function(){e("#all").prop("checked",""),e(".contenedor-download").children("div.checkbox").remove(),e("div#error_c3").children("div.alert").remove()}),e("#myModal2").on("shown.bs.modal",function(){e(".contenedor-download").mCustomScrollbar({theme:"3d-thick-dark",scrollButtons:{enable:!0,scrollType:"stepped"},advanced:{autoScrollOnFocus:!1,UpdateOnContentResize:!0}}),e("#all").on("change",function(){e("#all").is(":checked")?(e("div#error_c3").children("div.alert").remove(),e(".contenedor-download").mCustomScrollbar("update"),e(".contenedor-download").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","checked")):e(".contenedor-download").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","")}),e(".contenedor-download").children("div").children("div").children("div.checkbox").children("label").children("input").on("change",function(){e(".contenedor-download").children("div").children("div").children("div.checkbox").children("label").children("input").is(":checked")&&(e("#all").prop("checked",""),e("div#error_c3").children("div.alert").remove(),e(".contenedor-download").mCustomScrollbar("update"))})}),e("#myModal2").on("hide.bs.modal",function(){e(".contenedor-download").mCustomScrollbar("destroy")}),e("#form_download").on("submit",function(o){e("#button_download").prop("disabled","disabled"),e("div#error_c3").children("div.alert").remove();for(var n=!1,d=0,l=e('input[type="checkbox"]'),a=0;a<l.length;a++)"checkbox"==e(l[a]).attr("type")&&e(l[a]).is(":checked")&&d++;return 0==d?(e(".contenedor-download").mCustomScrollbar("disable",!0),e("#error_c3").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" onclick="cerrado1()" data-dismiss="alert" aria-hidden="true">&times;</button><strong><i class="glyphicon glyphicon-warning-sign"></i>&nbsp;</strong>Selecione al menos un archivo.</div>'),e("#button_download").removeAttr("disabled"),n=!1):(e("div#error_c3").children("div.alert").remove(),e(".contenedor-download").mCustomScrollbar("update"),e("#button_download").removeAttr("disabled"),e("#myModal2").modal("hide"),n=!0),n}),e("#download_file").on("click",function(){e("#download_file").prop("disabled","disabled");var n=e("#baseUrl_download").val();e.ajax({url:n+"listar_archivos",type:"POST",data:"ruta="+e("#camino_actual").val(),beforeSend:function(){e("#here_fake").show(),e("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(d){"listo"==d?(e.getJSON(n+"assets/json/datos.json",function(d){for(var l in d)"txt"==o(d[l])?e(".contenedor-download").append('<div class="checkbox"> <label><input type="checkbox" value="'+d[l]+'" name="ficheros[]"><img width="40" height="40" src="'+n+'assets/img/text.PNG">'+d[l]+"</label></div>"):"text"==o(d[l])?e(".contenedor-download").append('<div class="checkbox"> <label><input type="checkbox" value="'+d[l]+'" name="ficheros[]"><img width="40" height="40" src="'+n+'assets/img/text.PNG">'+d[l]+"</label></div>"):"xml"==o(d[l])?e(".contenedor-download").append('<div class="checkbox"> <label><input type="checkbox" value="'+d[l]+'"   name="ficheros[]" ><img width="40" height="40" src="'+n+'assets/img/xml.PNG">'+d[l]+"</label></div>"):e(".contenedor-download").append('<div class="checkbox"> <label><input type="checkbox" value="'+d[l]+'"   name="ficheros[]" ><img width="40" height="40" src="'+n+'assets/img/carpeta_cerrada.PNG">'+d[l]+"</label></div>")}),e("#myModal2").modal("show"),e("#download_file").removeAttr("disabled")):(e.alert({boxWidth:"35%",useBootstrap:!1,icon:"glyphicon glyphicon-warning-sign",type:"orange",theme:"dark",title:"Alerta",closeIcon:!0,animation:"zoom",closeAnimation:"scale",animationSpeed:200,animationBounce:2.5,content:"Este directorio no contiene archivos para descargar.",buttons:{ok:{text:"Aceptar",btnClass:"btn-default"}}}),e("#download_file").removeAttr("disabled"))},complete:function(){e("#here_fake").hide()}})})}(jQuery);