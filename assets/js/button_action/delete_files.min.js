function getFileExtension(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))}function getFileName(e){return e.slice("",e.lastIndexOf("."))}function cerrado3(){$("#delete_body").mCustomScrollbar("update")}$("#delete_name").on("click",function(){$("#delete_name").prop("disabled","disabled");var e=$("#ruta_delete_url").val();$.ajax({url:e+"listar_dir_archivos",type:"POST",data:"ruta="+$("#ruta_delete").val(),beforeSend:function(){$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(i){"listo"==i?($.getJSON(e+"assets/json/datos.json",function(i){for(var l in i)"txt"==getFileExtension(i[l][0])?$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+i[l][0]+"</label></div>"):"text"==getFileExtension(i[l][0])?$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+i[l][0]+"</label></div>"):"xml"==getFileExtension(i[l][0])?$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/xml.PNG">'+i[l][0]+"</label></div>"):"rar"==getFileExtension(i[l][0])||"tar"==getFileExtension(i[l][0])||"zip"==getFileExtension(i[l][0])||"7z"==getFileExtension(i[l][0])||"7zip"==getFileExtension(i[l][0])||"gz"==getFileExtension(i[l][0])||"gzip"==getFileExtension(i[l][0])||"gtar"==getFileExtension(i[l][0])?$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/carpeta_cerrada.PNG">'+i[l][0]+"</label></div>"):0==i[l][1]?$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/carpeta_vacia.PNG">'+i[l][0]+"</label></div>"):$("#delete_body").append('<div class="checkbox"><label><input type="checkbox" value="'+i[l][0]+'" name="checkbox_delete[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/carpeta_llena.PNG">'+i[l][0]+"</label></div>")}),$("#myModalDelete").modal("show"),$("#delete_name").removeAttr("disabled")):($.alert({boxWidth:"35%",useBootstrap:!1,icon:"glyphicon glyphicon-warning-sign",type:"orange",theme:"dark",title:"Alerta",closeIcon:!0,animation:"zoom",closeAnimation:"scale",animationSpeed:200,animationBounce:2.5,content:"Este directorio no contiene archivos para eliminar.",buttons:{ok:{text:"Aceptar",btnClass:"btn-default"}}}),$("#delete_name").removeAttr("disabled"))},complete:function(){$("#here_fake").hide()}})}),$("#eliminar_files").on("click",function(){$("#eliminar_files").prop("disabled","disabled"),$("div#error_c5").children("div.alert").remove(),$("#delete_body").mCustomScrollbar("update");for(var e,i=0,l=$('input[type="checkbox"]'),t=0;t<l.length;t++)"checkbox"==$(l[t]).attr("type")&&$(l[t]).is(":checked")&&i++;0==i?($("#delete_body").mCustomScrollbar("disable",!0),$("#error_c5").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" onclick="cerrado3()" data-dismiss="alert" aria-hidden="true">&times;</button><strong><i class="glyphicon glyphicon-warning-sign"></i>&nbsp;</strong>Selecione al menos un archivo</div>'),$("#eliminar_files").removeAttr("disabled")):($("div#error_c5").children("div.alert").remove(),$("#delete_body").mCustomScrollbar("update"),e=$("#ruta_delete_url").val(),$.ajax({url:e+"eliminar_archivo",type:"POST",data:$("#form_delete").serialize(),beforeSend:function(){$("#myModalDelete").modal("hide"),$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(e){"listo"==e&&location.reload()}}))}),$("#myModalDelete").on("hidden.bs.modal",function(){$("#all1").prop("checked",""),$("#delete_body").children("div.checkbox").remove(),$("div#error_c5").children("div.alert").remove()}),$("#myModalDelete").on("hide.bs.modal",function(){$("#delete_body").mCustomScrollbar("destroy")}),$("#myModalDelete").on("shown.bs.modal",function(){$("#delete_body").mCustomScrollbar({theme:"3d-thick-dark",scrollButtons:{enable:!0},advanced:{autoScrollOnFocus:!1,UpdateOnContentResize:!0}}),$("#all1").on("change",function(){$("#all1").is(":checked")?($("div#error_c5").children("div.alert").remove(),$("#delete_body").mCustomScrollbar("update"),$("#delete_body").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","checked")):$("#delete_body").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","")}),$("#delete_body").children("div").children("div").children("div.checkbox").children("label").children("input").on("change",function(){$("#delete_body").children("div").children("div").children("div.checkbox").children("label").children("input").is(":checked")&&($("#all1").prop("checked",""),$("div#error_c5").children("div.alert").remove(),$("#delete_body").mCustomScrollbar("update"))})});