function getFileExtension(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))}function getFileName(e){return e.slice("",e.lastIndexOf("."))}function prueba1(e){$("#"+e).on("change",function(){$("#"+e).is(":checked")?($("#text1_"+e).removeAttr("disabled"),$("#text2_"+e).removeAttr("disabled"),$("div#error_c6").children("div.alert").remove(),$("#archivos_move").mCustomScrollbar("update")):($("#text1_"+e).prop("disabled","disabled"),$("#text2_"+e).prop("disabled","disabled"),$("div#error_c6").children("div.alert").remove(),$("#archivos_move").mCustomScrollbar("update"))})}function cerrado(){$("#archivos_move").mCustomScrollbar("update")}$("#buton_move").on("click",function(){$("#buton_move").prop("disabled","disabled");var e=$("#ruta_move_url").val();$.ajax({url:e+"listar_archivos",type:"POST",data:"ruta="+$("#ruta_move").val(),beforeSend:function(){$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(i){"listo"==i?($.getJSON(e+"assets/json/datos.json",function(i){for(var o in i)"txt"==getFileExtension(i[o])?$("#archivos_move").append('<div class="checkbox"><label><input onchange="prueba1(this.id)" id="'+o+'" type="checkbox" value="'+i[o]+'" name="name_move[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+i[o]+'<input  disabled type="hidden" value="'+getFileName(i[o])+'" id="text1_'+o+'" name="nombre[]"><input  disabled type="hidden" value="'+getFileExtension(i[o])+'" id="text2_'+o+'" name="ext[]"></label></div>'):"text"==getFileExtension(i[o])?$("#archivos_move").append('<div class="checkbox"><label><input onchange="prueba1(this.id)" id="'+o+'" type="checkbox" value="'+i[o]+'" name="name_move[]"> <img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+i[o]+'<input disabled type="hidden" value="'+getFileName(i[o])+'" id="text1_'+o+'" name="nombre[]"><input disabled type="hidden" value="'+getFileExtension(i[o])+'" id="text2_'+o+'" name="ext[]"></label></div>'):"xml"==getFileExtension(i[o])?$("#archivos_move").append('<div class="checkbox"><label><input onchange="prueba1(this.id)" id="'+o+'" type="checkbox" value="'+i[o]+'" name="name_move[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/xml.PNG">'+i[o]+'<input disabled type="hidden" value="'+getFileName(i[o])+'" id="text1_'+o+'" name="nombre[]"><input disabled type="hidden" value="'+getFileExtension(i[o])+'" id="text2_'+o+'" name="ext[]"></label></div>'):"rar"!=getFileExtension(i[o])&&"tar"!=getFileExtension(i[o])&&"zip"!=getFileExtension(i[o])&&"7z"!=getFileExtension(i[o])&&"7zip"!=getFileExtension(i[o])&&"gz"!=getFileExtension(i[o])&&"gzip"!=getFileExtension(i[o])&&"gtar"!=getFileExtension(i[o])||$("#archivos_move").append('<div class="checkbox"><label><input id="'+o+'" onchange="prueba1(this.id)" type="checkbox" value="'+i[o]+'" name="name_move[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/carpeta_cerrada.PNG">'+i[o]+'<input disabled type="hidden" value="'+getFileName(i[o])+'" id="text1_'+o+'" name="nombre[]"><input disabled type="hidden" value="'+getFileExtension(i[o])+'" id="text2_'+o+'" name="ext[]"></label></div>')}),$("#myModalMove").modal("show"),$("#buton_move").removeAttr("disabled")):($.alert({boxWidth:"32%",useBootstrap:!1,icon:"glyphicon glyphicon-warning-sign",type:"orange",theme:"dark",title:"Alerta",closeIcon:!0,animation:"zoom",closeAnimation:"scale",animationSpeed:200,animationBounce:2.5,content:"Este directorio no contiene archivos para mover.",buttons:{ok:{text:"Aceptar",btnClass:"btn-default"}}}),$("#buton_move").removeAttr("disabled"))},complete:function(){$("#here_fake").hide()}})}),$("#myModalMove").on("hidden.bs.modal",function(){$("#all3").prop("checked",""),$("#archivos_move").children("div.checkbox").remove(),$("div#error_c6").children("div.alert").remove();var e=$("#ruta_move_url").val();$("#iframe_in").load().attr("src",e+"load_move")}),$("#move_file_submit").on("click",function(){$("#move_file_submit").prop("disabled","disabled"),a();for(var e,i=0,o=$('input[type="checkbox"]'),t=0;t<o.length;t++)"checkbox"==$(o[t]).attr("type")&&$(o[t]).is(":checked")&&i++;0==i?(n("Selecione al menos un archivo."),$("#move_file_submit").removeAttr("disabled")):$("#ruta_move").val()==$("#ruta_destino").val()?n("La carpeta de origen y la carpeta de destino es la misma."):(a(),e=$("#ruta_move_url").val(),$.ajax({url:e+"mover_archivos",type:"POST",data:$("#move_file_form").serialize(),beforeSend:function(){$("#myModalMove").modal("hide"),$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(e){"listo"==e?location.reload():n(e)}}));function n(e){$("#archivos_move").mCustomScrollbar("disable",!0),$("#error_c6").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" onclick="cerrado()" data-dismiss="alert" aria-hidden="true">&times;</button><strong><i class="glyphicon glyphicon-warning-sign"></i>&nbsp;</strong>'+e+"</div>"),$("#move_file_submit").removeAttr("disabled")}function a(){$("div#error_c6").children("div.alert").remove(),$("#archivos_move").mCustomScrollbar("update")}}),$("#myModalMove").on("hide.bs.modal",function(){$("#archivos_move").mCustomScrollbar("destroy")}),$("#myModalMove").on("shown.bs.modal",function(){$("#archivos_move").mCustomScrollbar({theme:"3d-thick-dark",scrollButtons:{enable:!0},advanced:{autoScrollOnFocus:!1,UpdateOnContentResize:!0}}),$("#all3").on("change",function(){$("#all3").is(":checked")?($("div#error_c6").children("div.alert").remove(),$("#archivos_move").mCustomScrollbar("update"),$("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","checked"),$("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children('input[type="hidden"]').removeAttr("disabled")):($("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked",""),$("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children('input[type="hidden"]').prop("disabled","disabled"))}),$("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children('input[type="checkbox"]').on("change",function(){$("#archivos_move").children("div").children("div").children("div.checkbox").children("label").children('input[type="checkbox"]').is(":checked")&&($("#all3").prop("checked",""),$("div#error_c6").children("div.alert").remove(),$("#archivos_move").mCustomScrollbar("update"))})});