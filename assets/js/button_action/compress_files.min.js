function getFileExtension(e){return e.slice(2+(e.lastIndexOf(".")-1>>>0))}function cerrado4(){$("#contenedor_archivos_compress").mCustomScrollbar("update")}$("#comprimir").on("click",function(){$("#comprimir").prop("disabled","disabled");var e=$("#url_compress").val();$.ajax({url:e+"listar_archivos_compress",type:"POST",data:"ruta="+$("#ruta_compress").val(),beforeSend:function(){$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(o){"listo"==o?($.getJSON(e+"assets/json/datos.json",function(o){for(var r in o)"txt"==getFileExtension(o[r])?$("#contenedor_archivos_compress").append('<div class="checkbox"><label><input type="checkbox" value="'+o[r]+'" name="compress[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+o[r]+"</label></div>"):"text"==getFileExtension(o[r])?$("#contenedor_archivos_compress").append('<div class="checkbox"><label><input type="checkbox" value="'+o[r]+'" name="compress[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/text.PNG">'+o[r]+"</label></div>"):"xml"==getFileExtension(o[r])&&$("#contenedor_archivos_compress").append('<div class="checkbox"><label><input type="checkbox" value="'+o[r]+'" name="compress[]"><img id="img_edicion_name" width="40" height="40" src="'+e+'assets/img/xml.PNG">'+o[r]+"</label></div>")}),$("#myModalCompress").modal("show"),$("#comprimir").removeAttr("disabled")):($.alert({boxWidth:"35%",useBootstrap:!1,icon:"glyphicon glyphicon-warning-sign",type:"orange",theme:"dark",title:"Alerta",closeIcon:!0,animation:"zoom",closeAnimation:"scale",animationSpeed:200,animationBounce:2.5,content:"Este directorio no contiene archivos para comprimir.",buttons:{ok:{text:"Aceptar",btnClass:"btn-default"}}}),$("#comprimir").removeAttr("disabled"))},complete:function(){$("#here_fake").hide()}})}),$("#myModalCompress").on("hidden.bs.modal",function(){$("#all4").prop("checked",""),$("#contenedor_archivos_compress").children("div.checkbox").remove(),$("div#error_c7").children("div.alert").remove()}),$("#myModalCompress").on("hide.bs.modal",function(){$("#contenedor_archivos_compress").mCustomScrollbar("destroy")}),$("#myModalCompress").on("shown.bs.modal",function(){$("#contenedor_archivos_compress").mCustomScrollbar({theme:"3d-thick-dark",scrollButtons:{enable:!0},advanced:{autoScrollOnFocus:!1,UpdateOnContentResize:!0}}),$("#all4").on("change",function(){$("#all4").is(":checked")?($("div#error_c7").children("div.alert").remove(),$("#contenedor_archivos_compress").mCustomScrollbar("update"),$("#contenedor_archivos_compress").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","checked")):$("#contenedor_archivos_compress").children("div").children("div").children("div.checkbox").children("label").children("input").prop("checked","")}),$("#contenedor_archivos_compress").children("div").children("div").children("div.checkbox").children("label").children("input").on("change",function(){$("#contenedor_archivos_compress").children("div").children("div").children("div.checkbox").children("label").children("input").is(":checked")&&($("#all4").prop("checked",""),$("div#error_c7").children("div.alert").remove(),$("#contenedor_archivos_compress").mCustomScrollbar("update"))})}),$("#compress_file_button").on("click",function(){$("#compress_file_button").prop("disabled","disabled"),$("div#error_c7").children("div.alert").remove(),$("#contenedor_archivos_compress").mCustomScrollbar("update");for(var e,o=0,r=$('input[type="checkbox"]'),i=0;i<r.length;i++)"checkbox"==$(r[i]).attr("type")&&$(r[i]).is(":checked")&&o++;0==o?($("#contenedor_archivos_compress").mCustomScrollbar("disable",!0),$("#error_c7").append('<div class="alert alert-warning alert-dismissable"><button type="button" class="close" onclick="cerrado4()" data-dismiss="alert" aria-hidden="true">&times;</button><strong><i class="glyphicon glyphicon-warning-sign"></i>&nbsp;</strong>Selecione al menos un elemnto.</div>'),$("#compress_file_button").removeAttr("disabled")):($("div#error_c7").children("div.alert").remove(),$("#contenedor_archivos_compress").mCustomScrollbar("update"),e=$("#url_compress").val(),$.ajax({url:e+"comprimir_archivos",type:"POST",data:$("#compress_form").serialize(),beforeSend:function(){$("#myModalCompress").modal("hide"),$("#here_fake").show(),$("#here_fake").fakeLoader({timeToHide:12e7,spinner:"spinner6"})},success:function(e){"listo"==e?location.reload():$("#compress_file_button").removeAttr("disabled")}}))});